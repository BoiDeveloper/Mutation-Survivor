<script>
document.write(unescape('%3C%21DOCTYPE%20html%3E%0A%3Chtml%20lang%3D%22en%22%3E%0A%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset%3D%22UTF-8%22%3E%0A%20%20%20%20%3Cmeta%20name%3D%22viewport%22%20content%3D%22width%3Ddevice-width%2C%20initial-scale%3D1.0%22%3E%0A%20%20%20%20%3Ctitle%3EMutation%20Survivor%3A%20Biolab%20Extreme%3C/title%3E%0A%20%20%20%20%3Cscript%20src%3D%22https%3A//cdn.tailwindcss.com%22%3E%3C/script%3E%0A%20%20%20%20%3Cstyle%3E%0A%20%20%20%20%20%20%20%20@import%20url%28%27https%3A//fonts.googleapis.com/css2%3Ffamily%3DSpace+Mono%3Aital%2Cwght@0%2C400%3B0%2C700%3B1%2C400%26display%3Dswap%27%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%3Aroot%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20--flesh%3A%20%23ff5252%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--toxin%3A%20%2300ff41%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--void%3A%20%231a1a2e%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--neon-blue%3A%20%2300e5ff%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--legendary%3A%20%23ff00ff%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--hazard%3A%20%23ffea00%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20body%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20%2305050a%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20margin%3A%200%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20overflow%3A%20hidden%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20font-family%3A%20%27Space%20Mono%27%2C%20monospace%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20user-select%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20canvas%20%7B%20display%3A%20block%3B%20image-rendering%3A%20pixelated%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20.ui-layer%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20top%3A%200%3B%20left%3A%200%3B%20width%3A%20100%25%3B%20height%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20pointer-events%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%2010%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.glass-panel%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20rgba%2810%2C%2010%2C%2020%2C%200.9%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%201px%20solid%20rgba%280%2C%20229%2C%20255%2C%200.2%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%200%2020px%20rgba%280%2C0%2C0%2C0.5%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20pointer-events%3A%20auto%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20backdrop-filter%3A%20blur%288px%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.btn%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20pointer-events%3A%20auto%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20rgba%280%2C%20229%2C%20255%2C%200.05%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20%23fff%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2010px%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%201px%20solid%20rgba%280%2C%20229%2C%20255%2C%200.3%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20all%200.2s%20cubic-bezier%280.4%2C%200%2C%200.2%2C%201%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20text-transform%3A%20uppercase%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20letter-spacing%3A%202px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%200.7rem%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.btn%3Ahover%3Anot%28%3Adisabled%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20rgba%280%2C%20229%2C%20255%2C%200.2%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-color%3A%20var%28--neon-blue%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%200%2015px%20rgba%280%2C%20229%2C%20255%2C%200.4%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20translateY%28-2px%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.btn.active%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var%28--neon-blue%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20%23000%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20bold%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.mutation-icon%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2044px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%2044px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%201px%20solid%20rgba%280%2C%20229%2C%20255%2C%200.3%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20linear-gradient%28135deg%2C%20rgba%2820%2C%2020%2C%2040%2C%200.9%29%2C%20rgba%280%2C0%2C0%2C1%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%208px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20help%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20pointer-events%3A%20auto%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20all%200.2s%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.mutation-icon%3Ahover%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-color%3A%20var%28--neon-blue%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20scale%281.1%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%2050%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%23tooltip%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20fixed%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20220px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20rgba%285%2C%205%2C%2010%2C%200.98%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%201px%20solid%20var%28--neon-blue%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%204px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20opacity%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20visibility%3A%20hidden%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20pointer-events%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%205px%2020px%20rgba%280%2C0%2C0%2C1%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%201000%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20opacity%200.1s%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.helix-container%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20opacity%3A%200.3%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20pointer-events%3A%20none%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.dna-dot%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%204px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%204px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var%28--neon-blue%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2050%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20animation%3A%20helixRotate%204s%20infinite%20linear%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20@keyframes%20helixRotate%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%200%25%20%7B%20transform%3A%20rotateY%280deg%29%20translateX%28120px%29%20rotateY%280deg%29%3B%20opacity%3A%200.2%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%2050%25%20%7B%20opacity%3A%201%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20100%25%20%7B%20transform%3A%20rotateY%28360deg%29%20translateX%28120px%29%20rotateY%28-360deg%29%3B%20opacity%3A%200.2%3B%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20/*%20Slot%20Machine%20Animations%20*/%0A%20%20%20%20%20%20%20%20.slot-rolling%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20animation%3A%20slotRoll%200.1s%20infinite%20linear%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20@keyframes%20slotRoll%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%200%25%20%7B%20transform%3A%20translateY%28-5px%29%20scale%280.98%29%3B%20filter%3A%20blur%282px%29%3B%20opacity%3A%200.7%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%2050%25%20%7B%20transform%3A%20translateY%285px%29%20scale%281.02%29%3B%20filter%3A%20blur%284px%29%3B%20opacity%3A%200.9%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20100%25%20%7B%20transform%3A%20translateY%28-5px%29%20scale%280.98%29%3B%20filter%3A%20blur%282px%29%3B%20opacity%3A%200.7%3B%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.slot-reveal%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20animation%3A%20glitchIn%200.4s%20cubic-bezier%280.18%2C%200.89%2C%200.32%2C%201.28%29%20forwards%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20@keyframes%20glitchIn%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%200%25%20%7B%20transform%3A%20scale%280.8%29%20skewX%2820deg%29%3B%20opacity%3A%200%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%2070%25%20%7B%20transform%3A%20scale%281.05%29%20skewX%28-5deg%29%3B%20opacity%3A%201%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20100%25%20%7B%20transform%3A%20scale%281%29%20skewX%280deg%29%3B%20opacity%3A%201%3B%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.scanlines%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20fixed%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20top%3A%200%3B%20left%3A%200%3B%20width%3A%20100%25%3B%20height%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20linear-gradient%28rgba%2818%2C%2016%2C%2016%2C%200%29%2050%25%2C%20rgba%280%2C%200%2C%200%2C%200.05%29%2050%25%29%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20linear-gradient%2890deg%2C%20rgba%28255%2C%200%2C%200%2C%200.02%29%2C%20rgba%280%2C%20255%2C%200%2C%200.01%29%2C%20rgba%280%2C%200%2C%20255%2C%200.02%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background-size%3A%20100%25%204px%2C%203px%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20pointer-events%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%20100%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%23mutation-modal%2C%20%23game-over%20%7B%20display%3A%20none%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20.rarity-common%20%7B%20color%3A%20%23aaa%3B%20%7D%0A%20%20%20%20%20%20%20%20.rarity-rare%20%7B%20color%3A%20var%28--neon-blue%29%3B%20%7D%0A%20%20%20%20%20%20%20%20.rarity-legendary%20%7B%20color%3A%20var%28--legendary%29%3B%20text-shadow%3A%200%200%2010px%20var%28--legendary%29%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20.pulse-red%20%7B%20animation%3A%20pulseRed%201s%20infinite%3B%20%7D%0A%20%20%20%20%20%20%20%20@keyframes%20pulseRed%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%200%25%2C%20100%25%20%7B%20background-color%3A%20rgba%28255%2C%200%2C%200%2C%200%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%2050%25%20%7B%20background-color%3A%20rgba%28255%2C%200%2C%200%2C%200.15%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%3C/style%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%0A%20%20%20%20%3Cdiv%20class%3D%22scanlines%22%3E%3C/div%3E%0A%20%20%20%20%3Ccanvas%20id%3D%22gameCanvas%22%3E%3C/canvas%3E%0A%20%20%20%20%3Cdiv%20id%3D%22vfx-overlay%22%20class%3D%22absolute%20inset-0%20pointer-events-none%20transition-colors%20duration-500%22%3E%3C/div%3E%0A%0A%20%20%20%20%3C%21--%20Mouse%20Following%20Tooltip%20--%3E%0A%20%20%20%20%3Cdiv%20id%3D%22tooltip%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22tt-title%22%20class%3D%22text-%5B0.6rem%5D%20font-bold%20text-cyan-400%20uppercase%20mb-1%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22tt-desc%22%20class%3D%22text-%5B0.55rem%5D%20text-gray-300%20leading-tight%22%3E%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%3Cdiv%20class%3D%22ui-layer%22%3E%0A%20%20%20%20%20%20%20%20%3C%21--%20HUD%20--%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22hud%22%20class%3D%22p-6%20flex%20justify-between%20items-start%20w-full%20opacity-0%20transition-all%20duration-700%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22flex%20flex-col%20gap-3%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22glass-panel%20p-4%20border-l-2%20border-l-red-500%20w-48%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22text-%5B0.55rem%5D%20uppercase%20tracking-widest%20text-red-400%20font-bold%20mb-1%22%3EStored%20DNA%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22flex%20items-baseline%20gap-2%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20id%3D%22killCount%22%20class%3D%22text-3xl%20font-bold%20text-white%22%3E0%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22glass-panel%20p-3%20border-l-2%20border-l-green-500%20w-48%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22flex%20justify-between%20items-center%20mb-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22text-%5B0.55rem%5D%20font-bold%20uppercase%20text-green-400%22%3ECore%20Health%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20id%3D%22hp-text%22%20class%3D%22text-%5B0.6rem%5D%20opacity-70%22%3E100/100%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22w-full%20h-1.5%20bg-black/50%20rounded-full%20overflow-hidden%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22hp-bar%22%20class%3D%22h-full%20bg-gradient-to-r%20from-red-600%20to-green-500%20transition-all%20duration-300%20w-full%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22flex%20flex-col%20items-center%20w-1/3%20gap-3%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22phase-tag%22%20class%3D%22text-%5B0.6rem%5D%20px-4%20py-1.5%20bg-black/80%20text-cyan-400%20border%20border-cyan-500/50%20tracking-%5B0.3em%5D%20uppercase%22%3EStandby%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22w-full%20h-1%20bg-gray-900%20relative%20overflow-hidden%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22xpBar%22%20class%3D%22bg-cyan-400%20h-full%20w-0%20transition-all%20shadow-%5B0_0_10px_%2300e5ff%5D%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22text-%5B0.6rem%5D%20opacity-50%20tracking-%5B0.4em%5D%20uppercase%22%3EMutation%20Level%20%3Cspan%20id%3D%22lvlLabel%22%3E01%3C/span%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22glass-panel%20p-4%20border-r-2%20border-r-yellow-500%20text-right%20w-48%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22text-%5B0.55rem%5D%20uppercase%20tracking-widest%20text-yellow-500%20font-bold%20mb-1%22%3EPhase%20Sync%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22timer%22%20class%3D%22text-3xl%20font-bold%20font-mono%22%3E00%3A15%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%3C%21--%20Ability%20List%20--%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22mutation-list%22%20class%3D%22absolute%20left-6%20top-1/2%20-translate-y-1/2%20flex%20flex-col%20gap-3%22%3E%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%3C%21--%20Lobby%20Controls%20--%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22lobby-controls%22%20class%3D%22absolute%20bottom-10%20left-1/2%20-translate-x-1/2%20flex%20flex-col%20items-center%20gap-4%20opacity-0%20transition-opacity%20duration-500%22%20style%3D%22display%3A%20none%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22flex%20gap-4%20p-2%20glass-panel%20rounded-lg%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22diff-easy%22%20class%3D%22btn%20active%22%3EStable%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22diff-med%22%20class%3D%22btn%22%3EUnstable%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22diff-hard%22%20class%3D%22btn%22%3ECritical%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22flex%20gap-4%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22healBtn%22%20class%3D%22btn%20border-green-500/30%20hover%3Abg-green-500/10%22%3EHeal%20Core%20%2820%29%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22upgradeHpBtn%22%20class%3D%22btn%20border-blue-500/30%20hover%3Abg-blue-500/10%22%3EGrowth%20%2840%29%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22boostBtn%22%20class%3D%22btn%20border-yellow-500/30%20hover%3Abg-yellow-500/10%22%3ECatalyst%20%2850%29%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%3C%21--%20Main%20Menu%20--%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22main-menu%22%20class%3D%22absolute%20inset-0%20flex%20flex-col%20items-center%20justify-center%20bg-%5B%2305050a%5D%20z-%5B100%5D%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22helix-container%22%20id%3D%22helix%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22relative%20z-10%20text-center%20space-y-2%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22text-cyan-500%20text-%5B0.6rem%5D%20tracking-%5B0.5em%5D%20opacity-50%20mb-4%20font-mono%22%3ECONNECTION_ESTABLISHED%20//%20LINKING_CORE%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ch1%20class%3D%22text-7xl%20font-bold%20tracking-tighter%20text-white%22%3EMUTATION%3C/h1%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ch2%20class%3D%22text-2xl%20font-light%20text-red-600%20tracking-%5B0.3em%5D%20uppercase%20italic%20opacity-80%22%3EBiolab%3A%20Extreme%3C/h2%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22pt-12%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22startBtn%22%20class%3D%22btn%20px-16%20py-4%20text-lg%20border-cyan-500/50%20hover%3Aborder-cyan-400%20bg-cyan-500/5%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Initiate%20Sequence%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%3C%21--%20Mutation%20Selection%20--%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22mutation-modal%22%20class%3D%22absolute%20inset-0%20flex%20items-center%20justify-center%20z-%5B200%5D%20bg-black/40%20backdrop-blur-sm%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22max-w-5xl%20w-full%20glass-panel%20p-12%20flex%20flex-col%20items-center%20border-t-2%20border-cyan-500%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22text-cyan-400%20text-%5B0.6rem%5D%20tracking-%5B0.6em%5D%20mb-2%20uppercase%22%3EEvolution%20Window%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ch2%20class%3D%22text-3xl%20font-bold%20text-white%20mb-6%20tracking-tight%22%3ESequence%20New%20Pathways%3C/h2%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22slot-container%22%20class%3D%22grid%20grid-cols-3%20gap-8%20w-full%20min-h-%5B350px%5D%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%21--%20Slots%20will%20be%20here%20--%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22mt-10%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22rollBtn%22%20class%3D%22btn%20px-20%20py-4%20text-cyan-400%20border-cyan-400/50%20hover%3Abg-cyan-400/10%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Synthesize%20DNA%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%3C%21--%20Game%20Over%20--%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22game-over%22%20class%3D%22absolute%20inset-0%20flex%20flex-col%20items-center%20justify-center%20text-center%20z-%5B300%5D%20bg-black/80%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22p-10%20glass-panel%20border-red-500/40%20w-%5B500px%5D%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ch1%20class%3D%22text-4xl%20font-black%20text-red-600%20mb-2%20tracking-tighter%22%3ECONNECTION%20LOST%3C/h1%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20class%3D%22text-%5B0.6rem%5D%20text-red-400%20tracking-%5B0.5em%5D%20mb-8%20uppercase%20italic%20opacity-60%22%3ESequence%20Interrupted%20//%20Core%20Destroyed%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22finalStats%22%20class%3D%22grid%20grid-cols-2%20gap-4%20mb-10%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22p-4%20bg-black/40%20border%20border-white/5%20rounded%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22text-%5B0.5rem%5D%20opacity-50%20uppercase%20tracking-widest%20mb-1%22%3ETime%20Survived%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22stat-time%22%20class%3D%22text-xl%20font-bold%20text-white%22%3E00%3A00%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22p-4%20bg-black/40%20border%20border-white/5%20rounded%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22text-%5B0.5rem%5D%20opacity-50%20uppercase%20tracking-widest%20mb-1%22%3EGenerations%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22stat-gen%22%20class%3D%22text-xl%20font-bold%20text-cyan-400%22%3ELVL%2001%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22p-4%20bg-black/40%20border%20border-white/5%20rounded%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22text-%5B0.5rem%5D%20opacity-50%20uppercase%20tracking-widest%20mb-1%22%3EGenetic%20Harvest%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22stat-kills%22%20class%3D%22text-xl%20font-bold%20text-red-500%22%3E0%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22p-4%20bg-black/40%20border%20border-white/5%20rounded%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22text-%5B0.5rem%5D%20opacity-50%20uppercase%20tracking-widest%20mb-1%22%3EWaves%20Cleared%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22stat-waves%22%20class%3D%22text-xl%20font-bold%20text-yellow-500%22%3E0%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22restartBtn%22%20class%3D%22btn%20border-red-500%20w-full%20py-4%20hover%3Abg-red-500/20%22%3ERe-establish%20Link%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%0A%3Cscript%3E%0Aconst%20canvas%20%3D%20document.getElementById%28%27gameCanvas%27%29%3B%0Aconst%20ctx%20%3D%20canvas.getContext%28%272d%27%29%3B%0Aconst%20vfxOverlay%20%3D%20document.getElementById%28%27vfx-overlay%27%29%3B%0A%0Aconst%20ui%20%3D%20%7B%0A%20%20%20%20hud%3A%20document.getElementById%28%27hud%27%29%2C%0A%20%20%20%20mainMenu%3A%20document.getElementById%28%27main-menu%27%29%2C%0A%20%20%20%20mutationModal%3A%20document.getElementById%28%27mutation-modal%27%29%2C%0A%20%20%20%20slotContainer%3A%20document.getElementById%28%27slot-container%27%29%2C%0A%20%20%20%20rollBtn%3A%20document.getElementById%28%27rollBtn%27%29%2C%0A%20%20%20%20gameOver%3A%20document.getElementById%28%27game-over%27%29%2C%0A%20%20%20%20lobby%3A%20document.getElementById%28%27lobby-controls%27%29%2C%0A%20%20%20%20list%3A%20document.getElementById%28%27mutation-list%27%29%2C%0A%20%20%20%20helix%3A%20document.getElementById%28%27helix%27%29%2C%0A%20%20%20%20tooltip%3A%20document.getElementById%28%27tooltip%27%29%2C%0A%20%20%20%20ttTitle%3A%20document.getElementById%28%27tt-title%27%29%2C%0A%20%20%20%20ttDesc%3A%20document.getElementById%28%27tt-desc%27%29%0A%7D%3B%0A%0A//%20Game%20State%0Alet%20gameState%20%3D%20%27menu%27%3B%20%0Alet%20roundPhase%20%3D%20%27lobby%27%3B%20%0Alet%20frameCount%20%3D%200%3B%0Alet%20kills%20%3D%200%3B%0Alet%20level%20%3D%201%3B%0Alet%20waves%20%3D%200%3B%0Alet%20totalSeconds%20%3D%200%3B%0Alet%20xp%20%3D%200%3B%0Alet%20xpNext%20%3D%20120%3B%0Alet%20phaseTimer%20%3D%2015%3B%0Alet%20lastTimestamp%20%3D%20performance.now%28%29%3B%0Alet%20shake%20%3D%200%3B%0Alet%20difficulty%20%3D%200.6%3B%0Alet%20damageMult%20%3D%201.0%3B%0Aconst%20keys%20%3D%20%7B%7D%3B%0A%0Aconst%20MUTATIONS%20%3D%20%5B%0A%20%20%20%20%7B%20id%3A%20%27extra_head%27%2C%20name%3A%20%27Acid%20Spitter%27%2C%20desc%3A%20%27Biological%20turrets%20that%20fire%20toxic%20slugs%20at%20the%20nearest%20threats.%27%2C%20rarity%3A%20%27common%27%2C%20type%3A%20%27auto%27%2C%20rate%3A%2045%2C%20icon%3A%20%27%uD83E%uDDE0%27%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27toxic_tail%27%2C%20name%3A%20%27Bone%20Scythe%27%2C%20desc%3A%20%27Organic%20bone%20growth%20that%20swings%20wildly%2C%20shredding%20enemy%20armor.%27%2C%20rarity%3A%20%27common%27%2C%20type%3A%20%27auto%27%2C%20rate%3A%2055%2C%20icon%3A%20%27%uD83E%uDD82%27%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27adrenaline%27%2C%20name%3A%20%27Hyper-Gland%27%2C%20desc%3A%20%27Overclocks%20your%20central%20nervous%20system%2C%20granting%2040%25%20increased%20movement%20speed.%27%2C%20rarity%3A%20%27common%27%2C%20type%3A%20%27passive%27%2C%20icon%3A%20%27%u26A1%27%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27plating%27%2C%20name%3A%20%27Nano-Chitin%27%2C%20desc%3A%20%27Reinforced%20outer%20shell%20that%20absorbs%20and%20deflects%2040%25%20of%20incoming%20kinetic%20force.%27%2C%20rarity%3A%20%27rare%27%2C%20type%3A%20%27passive%27%2C%20icon%3A%20%27%uD83D%uDEE1%uFE0F%27%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27eye_laser%27%2C%20name%3A%20%27Void%20Lance%27%2C%20desc%3A%20%27Focuses%20internal%20thermal%20energy%20into%20a%20concentrated%20beam%20of%20absolute%20destruction.%27%2C%20rarity%3A%20%27rare%27%2C%20type%3A%20%27auto%27%2C%20rate%3A%2085%2C%20icon%3A%20%27%uD83D%uDC41%uFE0F%27%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27singularity%27%2C%20name%3A%20%27Gravity%20Maw%27%2C%20desc%3A%20%27Manipulates%20localized%20gravity%20to%20pull%20all%20biological%20matter%20into%20a%20crushing%20center.%27%2C%20rarity%3A%20%27legendary%27%2C%20type%3A%20%27env%27%2C%20rate%3A%20180%2C%20icon%3A%20%27%uD83D%uDD73%uFE0F%27%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27vampiric%27%2C%20name%3A%20%27Leech%20Cells%27%2C%20desc%3A%20%27Harvests%20micro-nutrients%20from%20defeated%20enemies%20to%20repair%20cellular%20damage.%27%2C%20rarity%3A%20%27rare%27%2C%20type%3A%20%27passive%27%2C%20icon%3A%20%27%uD83E%uDD87%27%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27nova%27%2C%20name%3A%20%27Calamity%20Nova%27%2C%20desc%3A%20%27Builds%20explosive%20pressure%20until%20it%20erupts%20in%20a%20massive%20biological%20shockwave.%27%2C%20rarity%3A%20%27legendary%27%2C%20type%3A%20%27env%27%2C%20rate%3A%20600%2C%20icon%3A%20%27%uD83D%uDCA5%27%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27electric%27%2C%20name%3A%20%27Ion%20Pulse%27%2C%20desc%3A%20%27Generating%20a%20high-voltage%20bio-electric%20field%20that%20arcs%20to%20nearby%20aggressors.%27%2C%20rarity%3A%20%27rare%27%2C%20type%3A%20%27passive%27%2C%20icon%3A%20%27%uD83C%uDF29%uFE0F%27%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27cryo%27%2C%20name%3A%20%27Cryo-Blood%27%2C%20desc%3A%20%27Drops%20internal%20temperature%20to%20absolute%20zero%2C%20freezing%20enemies%20on%20contact.%27%2C%20rarity%3A%20%27rare%27%2C%20type%3A%20%27passive%27%2C%20icon%3A%20%27%u2744%uFE0F%27%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27thorns%27%2C%20name%3A%20%27Thorned%20Hide%27%2C%20desc%3A%20%27Protruding%20serrated%20spikes%20deal%20significant%20damage%20to%20anything%20that%20touches%20you.%27%2C%20rarity%3A%20%27common%27%2C%20type%3A%20%27passive%27%2C%20icon%3A%20%27%uD83C%uDF35%27%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27obsidian%27%2C%20name%3A%20%27Obsidian%20Shell%27%2C%20desc%3A%20%27Hyper-dense%20plating.%20Near%20invulnerability%20at%20the%20cost%20of%20significant%20mobility.%27%2C%20rarity%3A%20%27legendary%27%2C%20type%3A%20%27passive%27%2C%20icon%3A%20%27%uD83D%uDC8E%27%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27solar%27%2C%20name%3A%20%27Solar%20Flare%27%2C%20desc%3A%20%27Channels%20ambient%20radiation%20into%20pillars%20of%20blinding%20heat%20from%20the%20atmosphere.%27%2C%20rarity%3A%20%27legendary%27%2C%20type%3A%20%27env%27%2C%20rate%3A%20400%2C%20icon%3A%20%27%u2600%uFE0F%27%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27spikes%27%2C%20name%3A%20%27Reactive%20Spine%27%2C%20desc%3A%20%27Involuntary%20muscle%20spasms%20fire%20bone%20fragments%20whenever%20the%20core%20is%20struck.%27%2C%20rarity%3A%20%27rare%27%2C%20type%3A%20%27passive%27%2C%20icon%3A%20%27%uD83E%uDDB4%27%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27orbiter%27%2C%20name%3A%20%27Bio-Wisps%27%2C%20desc%3A%20%27Symbiotic%20entities%20that%20rotate%20around%20you%2C%20burning%20through%20enemy%20defenses.%27%2C%20rarity%3A%20%27rare%27%2C%20type%3A%20%27auto%27%2C%20rate%3A%201%2C%20icon%3A%20%27%uD83D%uDCAB%27%20%7D%0A%5D%3B%0A%0Aconst%20audioCtx%20%3D%20new%20%28window.AudioContext%20%7C%7C%20window.webkitAudioContext%29%28%29%3B%0Afunction%20playSound%28freq%2C%20type%2C%20duration%2C%20vol%3D0.04%29%20%7B%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20if%20%28audioCtx.state%20%3D%3D%3D%20%27suspended%27%29%20audioCtx.resume%28%29%3B%0A%20%20%20%20%20%20%20%20const%20osc%20%3D%20audioCtx.createOscillator%28%29%3B%0A%20%20%20%20%20%20%20%20const%20gain%20%3D%20audioCtx.createGain%28%29%3B%0A%20%20%20%20%20%20%20%20osc.type%20%3D%20type%3B%0A%20%20%20%20%20%20%20%20osc.frequency.setValueAtTime%28freq%2C%20audioCtx.currentTime%29%3B%0A%20%20%20%20%20%20%20%20gain.gain.setValueAtTime%28vol%2C%20audioCtx.currentTime%29%3B%0A%20%20%20%20%20%20%20%20gain.gain.exponentialRampToValueAtTime%280.01%2C%20audioCtx.currentTime%20+%20duration%29%3B%0A%20%20%20%20%20%20%20%20osc.connect%28gain%29%3B%20gain.connect%28audioCtx.destination%29%3B%0A%20%20%20%20%20%20%20%20osc.start%28%29%3B%20osc.stop%28audioCtx.currentTime%20+%20duration%29%3B%0A%20%20%20%20%7D%20catch%28e%29%20%7B%7D%0A%7D%0A%0Afunction%20createHelix%28%29%20%7B%0A%20%20%20%20ui.helix.innerHTML%20%3D%20%27%27%3B%0A%20%20%20%20const%20dots%20%3D%2080%3B%0A%20%20%20%20for%28let%20i%3D0%3B%20i%3Cdots%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20const%20dot%20%3D%20document.createElement%28%27div%27%29%3B%0A%20%20%20%20%20%20%20%20dot.className%20%3D%20%27dna-dot%27%3B%0A%20%20%20%20%20%20%20%20dot.style.top%20%3D%20%60%24%7B%28i/dots%29%20*%20100%7D%25%60%3B%0A%20%20%20%20%20%20%20%20dot.style.animationDelay%20%3D%20%60%24%7B%28i/dots%29%20*%204%7Ds%60%3B%0A%20%20%20%20%20%20%20%20ui.helix.appendChild%28dot%29%3B%0A%20%20%20%20%7D%0A%7D%0AcreateHelix%28%29%3B%0A%0Awindow.addEventListener%28%27mousemove%27%2C%20%28e%29%20%3D%3E%20%7B%0A%20%20%20%20if%20%28ui.tooltip.style.visibility%20%3D%3D%3D%20%27visible%27%29%20%7B%0A%20%20%20%20%20%20%20%20ui.tooltip.style.left%20%3D%20%28e.clientX%20+%2020%29%20+%20%27px%27%3B%0A%20%20%20%20%20%20%20%20ui.tooltip.style.top%20%3D%20%28e.clientY%20-%2020%29%20+%20%27px%27%3B%0A%20%20%20%20%7D%0A%7D%29%3B%0A%0Aclass%20Player%20%7B%0A%20%20%20%20constructor%28%29%20%7B%20this.reset%28%29%3B%20%7D%0A%20%20%20%20reset%28%29%20%7B%0A%20%20%20%20%20%20%20%20this.x%20%3D%20canvas.width%20/%202%3B%0A%20%20%20%20%20%20%20%20this.y%20%3D%20canvas.height%20/%202%3B%0A%20%20%20%20%20%20%20%20this.radius%20%3D%2020%3B%0A%20%20%20%20%20%20%20%20this.hp%20%3D%20100%3B%0A%20%20%20%20%20%20%20%20this.maxHp%20%3D%20100%3B%0A%20%20%20%20%20%20%20%20this.mutations%20%3D%20%5B%7B%20id%3A%20%27core_spit%27%2C%20name%3A%20%27Base%20Spit%27%2C%20desc%3A%20%27Standard%20toxic%20discharge.%27%2C%20type%3A%20%27auto%27%2C%20rate%3A%2045%2C%20icon%3A%20%27%u2623%uFE0F%27%20%7D%5D%3B%0A%20%20%20%20%20%20%20%20this.pulse%20%3D%200%3B%0A%20%20%20%20%7D%0A%20%20%20%20draw%28%29%20%7B%0A%20%20%20%20%20%20%20%20ctx.save%28%29%3B%0A%20%20%20%20%20%20%20%20ctx.translate%28this.x%2C%20this.y%29%3B%0A%20%20%20%20%20%20%20%20this.pulse%20+%3D%200.1%3B%0A%20%20%20%20%20%20%20%20const%20s%20%3D%201%20+%20Math.sin%28this.pulse%29%20*%200.08%3B%0A%20%20%20%20%20%20%20%20ctx.scale%28s%2C%202-s%29%3B%0A%20%20%20%20%20%20%20%20const%20g%20%3D%20ctx.createRadialGradient%280%2C%20-8%2C%202%2C%200%2C%200%2C%20this.radius%29%3B%0A%20%20%20%20%20%20%20%20g.addColorStop%280%2C%20%27%2300e5ff%27%29%3B%20g.addColorStop%281%2C%20%27%231a237e%27%29%3B%0A%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20g%3B%0A%20%20%20%20%20%20%20%20ctx.beginPath%28%29%3B%20ctx.arc%280%2C%200%2C%20this.radius%2C%200%2C%20Math.PI*2%29%3B%20ctx.fill%28%29%3B%0A%20%20%20%20%20%20%20%20ctx.strokeStyle%20%3D%20%27rgba%28255%2C255%2C255%2C0.4%29%27%3B%20ctx.lineWidth%20%3D%202%3B%20ctx.stroke%28%29%3B%0A%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20%27%23fff%27%3B%0A%20%20%20%20%20%20%20%20const%20blink%20%3D%20Math.sin%28frameCount%20*%200.05%29%20%3E%200.9%20%3F%200.1%20%3A%201%3B%0A%20%20%20%20%20%20%20%20ctx.beginPath%28%29%3B%20ctx.ellipse%28-6%2C%20-4%2C%204%2C%204%20*%20blink%2C%200%2C%200%2C%20Math.PI*2%29%3B%20ctx.fill%28%29%3B%0A%20%20%20%20%20%20%20%20ctx.beginPath%28%29%3B%20ctx.ellipse%286%2C%20-4%2C%204%2C%204%20*%20blink%2C%200%2C%200%2C%20Math.PI*2%29%3B%20ctx.fill%28%29%3B%0A%20%20%20%20%20%20%20%20ctx.restore%28%29%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28this.mutations.some%28m%20%3D%3E%20m.id%20%3D%3D%3D%20%27orbiter%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20i%3D0%3B%20i%3C3%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20ang%20%3D%20%28frameCount%20*%200.05%29%20+%20%28i%20*%20Math.PI%20*%202%20/%203%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20wx%20%3D%20this.x%20+%20Math.cos%28ang%29%20*%2065%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20wy%20%3D%20this.y%20+%20Math.sin%28ang%29%20*%2065%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20%27%2300e5ff%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.shadowBlur%20%3D%2010%3B%20ctx.shadowColor%20%3D%20%27%2300e5ff%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.beginPath%28%29%3B%20ctx.arc%28wx%2C%20wy%2C%206%2C%200%2C%20Math.PI*2%29%3B%20ctx.fill%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.shadowBlur%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20enemies.forEach%28e%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28Math.hypot%28wx-e.x%2C%20wy-e.y%29%20%3C%20e.r%20+%206%29%20%7B%20e.takeDamage%282.5%20*%20damageMult%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20update%28%29%20%7B%0A%20%20%20%20%20%20%20%20let%20dx%20%3D%200%2C%20dy%20%3D%200%3B%0A%20%20%20%20%20%20%20%20if%20%28keys%5B%27w%27%5D%20%7C%7C%20keys%5B%27arrowup%27%5D%29%20dy%20-%3D%201%3B%20%0A%20%20%20%20%20%20%20%20if%20%28keys%5B%27s%27%5D%20%7C%7C%20keys%5B%27arrowdown%27%5D%29%20dy%20+%3D%201%3B%0A%20%20%20%20%20%20%20%20if%20%28keys%5B%27a%27%5D%20%7C%7C%20keys%5B%27arrowleft%27%5D%29%20dx%20-%3D%201%3B%20%0A%20%20%20%20%20%20%20%20if%20%28keys%5B%27d%27%5D%20%7C%7C%20keys%5B%27arrowright%27%5D%29%20dx%20+%3D%201%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%20%28dx%20%7C%7C%20dy%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20mag%20%3D%20Math.sqrt%28dx*dx%20+%20dy*dy%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20spd%20%3D%205.2%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.mutations.some%28m%20%3D%3E%20m.id%20%3D%3D%3D%20%27adrenaline%27%29%29%20spd%20*%3D%201.4%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.mutations.some%28m%20%3D%3E%20m.id%20%3D%3D%3D%20%27obsidian%27%29%29%20spd%20*%3D%200.6%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.x%20+%3D%20%28dx/mag%29%20*%20spd%3B%20this.y%20+%3D%20%28dy/mag%29%20*%20spd%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20this.x%20%3D%20Math.max%2830%2C%20Math.min%28canvas.width-30%2C%20this.x%29%29%3B%0A%20%20%20%20%20%20%20%20this.y%20%3D%20Math.max%2830%2C%20Math.min%28canvas.height-30%2C%20this.y%29%29%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28roundPhase%20%3D%3D%3D%20%27combat%27%20%26%26%20gameState%20%3D%3D%3D%20%27arena%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.mutations.forEach%28m%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28frameCount%20%25%20m.rate%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28m.type%20%3D%3D%3D%20%27env%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28m.id%20%3D%3D%3D%20%27singularity%27%29%20envEffects.push%28new%20Singularity%28this.x%2C%20this.y%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28m.id%20%3D%3D%3D%20%27nova%27%29%20envEffects.push%28new%20Nova%28this.x%2C%20this.y%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28m.id%20%3D%3D%3D%20%27solar%27%29%20envEffects.push%28new%20SolarBeam%28this.x%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28m.type%20%3D%3D%3D%20%27auto%27%20%26%26%20m.id%20%21%3D%3D%20%27orbiter%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.fire%28m.id%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20fire%28id%29%20%7B%0A%20%20%20%20%20%20%20%20const%20t%20%3D%20findNearest%28this.x%2C%20this.y%29%3B%0A%20%20%20%20%20%20%20%20if%20%28%21t%29%20return%3B%0A%20%20%20%20%20%20%20%20const%20ang%20%3D%20Math.atan2%28t.y%20-%20this.y%2C%20t.x%20-%20this.x%29%3B%0A%20%20%20%20%20%20%20%20let%20d%20%3D%2035%20*%20damageMult%2C%20c%20%3D%20%27%2300ff41%27%2C%20s%20%3D%208%3B%0A%20%20%20%20%20%20%20%20if%20%28id%20%3D%3D%3D%20%27eye_laser%27%29%20%7B%20d%20%3D%20110%20*%20damageMult%3B%20c%20%3D%20%27%23ff00ff%27%3B%20s%20%3D%2012%3B%20playSound%28800%2C%20%27sawtooth%27%2C%200.1%2C%200.02%29%3B%20%7D%0A%20%20%20%20%20%20%20%20if%20%28id%20%3D%3D%3D%20%27extra_head%27%29%20%7B%20d%20%3D%2045%20*%20damageMult%3B%20c%20%3D%20%27%23ffea00%27%3B%20s%20%3D%206%3B%20%7D%0A%20%20%20%20%20%20%20%20projectiles.push%28new%20Projectile%28this.x%2C%20this.y%2C%20ang%2C%20c%2C%20d%2C%20s%29%29%3B%0A%20%20%20%20%20%20%20%20playSound%28150%2C%20%27sine%27%2C%200.05%2C%200.03%29%3B%0A%20%20%20%20%7D%0A%7D%0A%0Aconst%20player%20%3D%20new%20Player%28%29%3B%0Alet%20enemies%20%3D%20%5B%5D%2C%20projectiles%20%3D%20%5B%5D%2C%20envEffects%20%3D%20%5B%5D%2C%20drops%20%3D%20%5B%5D%2C%20vfx%20%3D%20%5B%5D%3B%0A%0Aclass%20Particle%20%7B%0A%20%20%20%20constructor%28x%2C%20y%2C%20col%29%20%7B%0A%20%20%20%20%20%20%20%20this.x%20%3D%20x%3B%20this.y%20%3D%20y%3B%0A%20%20%20%20%20%20%20%20this.vx%20%3D%20%28Math.random%28%29%20-%200.5%29%20*%208%3B%0A%20%20%20%20%20%20%20%20this.vy%20%3D%20%28Math.random%28%29%20-%200.5%29%20*%208%3B%0A%20%20%20%20%20%20%20%20this.life%20%3D%2030%20+%20Math.random%28%29%20*%2020%3B%0A%20%20%20%20%20%20%20%20this.col%20%3D%20col%3B%0A%20%20%20%20%20%20%20%20this.sz%20%3D%202%20+%20Math.random%28%29%20*%204%3B%0A%20%20%20%20%7D%0A%20%20%20%20update%28%29%20%7B%20this.x%20+%3D%20this.vx%3B%20this.y%20+%3D%20this.vy%3B%20this.life--%3B%20this.vx%20*%3D%200.95%3B%20this.vy%20*%3D%200.95%3B%20%7D%0A%20%20%20%20draw%28%29%20%7B%0A%20%20%20%20%20%20%20%20ctx.globalAlpha%20%3D%20this.life%20/%2050%3B%0A%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20this.col%3B%0A%20%20%20%20%20%20%20%20ctx.fillRect%28this.x%2C%20this.y%2C%20this.sz%2C%20this.sz%29%3B%0A%20%20%20%20%20%20%20%20ctx.globalAlpha%20%3D%201%3B%0A%20%20%20%20%7D%0A%7D%0A%0Aclass%20DamageNumber%20%7B%0A%20%20%20%20constructor%28x%2C%20y%2C%20val%29%20%7B%0A%20%20%20%20%20%20%20%20this.x%20%3D%20x%3B%20this.y%20%3D%20y%3B%20this.val%20%3D%20Math.ceil%28val%29%3B%0A%20%20%20%20%20%20%20%20this.life%20%3D%2040%3B%0A%20%20%20%20%20%20%20%20this.vy%20%3D%20-1%3B%0A%20%20%20%20%7D%0A%20%20%20%20update%28%29%20%7B%20this.y%20+%3D%20this.vy%3B%20this.life--%3B%20%7D%0A%20%20%20%20draw%28%29%20%7B%0A%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20%60rgba%28255%2C255%2C255%2C%24%7Bthis.life/40%7D%29%60%3B%0A%20%20%20%20%20%20%20%20ctx.font%20%3D%20%27bold%2012px%20%22Space%20Mono%22%27%3B%0A%20%20%20%20%20%20%20%20ctx.fillText%28this.val%2C%20this.x%2C%20this.y%29%3B%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20findNearest%28x%2C%20y%29%20%7B%0A%20%20%20%20let%20b%20%3D%20null%2C%20md%20%3D%201000000%3B%0A%20%20%20%20enemies.forEach%28e%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20const%20d%20%3D%20%28e.x-x%29**2%20+%20%28e.y-y%29**2%3B%0A%20%20%20%20%20%20%20%20if%20%28d%20%3C%20md%29%20%7B%20md%20%3D%20d%3B%20b%20%3D%20e%3B%20%7D%0A%20%20%20%20%7D%29%3B%0A%20%20%20%20return%20b%3B%0A%7D%0A%0Aclass%20Enemy%20%7B%0A%20%20%20%20constructor%28type%20%3D%20%27grunt%27%29%20%7B%0A%20%20%20%20%20%20%20%20this.type%20%3D%20type%3B%20this.flash%20%3D%200%3B%0A%20%20%20%20%20%20%20%20this.r%20%3D%20type%20%3D%3D%3D%20%27elite%27%20%3F%2032%20%3A%2018%3B%0A%20%20%20%20%20%20%20%20this.hp%20%3D%20%28%28type%20%3D%3D%3D%20%27elite%27%20%3F%20300%20%3A%2040%29%20+%20%28level%20*%2020%29%29%20*%20difficulty%3B%0A%20%20%20%20%20%20%20%20this.speed%20%3D%20%28type%20%3D%3D%3D%20%27elite%27%20%3F%202.0%20%3A%202.0%29%20*%20Math.sqrt%28difficulty%29%3B%0A%20%20%20%20%20%20%20%20this.color%20%3D%20type%20%3D%3D%3D%20%27elite%27%20%3F%20%27%23ff1744%27%20%3A%20%27%233d3d3d%27%3B%0A%20%20%20%20%20%20%20%20this.spawn%28%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20spawn%28%29%20%7B%0A%20%20%20%20%20%20%20%20const%20side%20%3D%20Math.floor%28Math.random%28%29*4%29%3B%0A%20%20%20%20%20%20%20%20if%20%28side%3D%3D%3D0%29%20%7B%20this.x%20%3D%20Math.random%28%29*canvas.width%3B%20this.y%20%3D%20-50%3B%20%7D%0A%20%20%20%20%20%20%20%20else%20if%20%28side%3D%3D%3D1%29%20%7B%20this.x%20%3D%20canvas.width+50%3B%20this.y%20%3D%20Math.random%28%29*canvas.height%3B%20%7D%0A%20%20%20%20%20%20%20%20else%20if%20%28side%3D%3D%3D2%29%20%7B%20this.x%20%3D%20Math.random%28%29*canvas.width%3B%20this.y%20%3D%20canvas.height+50%3B%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%20this.x%20%3D%20-50%3B%20this.y%20%3D%20Math.random%28%29*canvas.height%3B%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20takeDamage%28dmg%29%20%7B%0A%20%20%20%20%20%20%20%20this.hp%20-%3D%20dmg%3B%0A%20%20%20%20%20%20%20%20this.flash%20%3D%204%3B%0A%20%20%20%20%20%20%20%20vfx.push%28new%20DamageNumber%28this.x%2C%20this.y%2C%20dmg%29%29%3B%0A%20%20%20%20%20%20%20%20if%20%28Math.random%28%29%20%3E%200.5%29%20vfx.push%28new%20Particle%28this.x%2C%20this.y%2C%20this.color%29%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20update%28%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28gameState%20%21%3D%3D%20%27arena%27%29%20return%3B%0A%20%20%20%20%20%20%20%20const%20d%20%3D%20Math.hypot%28player.x-this.x%2C%20player.y-this.y%29%3B%0A%20%20%20%20%20%20%20%20this.x%20+%3D%20%28player.x-this.x%29/d%20*%20this.speed%3B%0A%20%20%20%20%20%20%20%20this.y%20+%3D%20%28player.y-this.y%29/d%20*%20this.speed%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28this.flash%20%3E%200%29%20this.flash--%3B%0A%20%20%20%20%20%20%20%20if%20%28d%20%3C%20this.r%20+%20player.radius%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20dmg%20%3D%20this.type%20%3D%3D%3D%20%27elite%27%20%3F%2012%20%3A%204%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28player.mutations.some%28m%20%3D%3E%20m.id%20%3D%3D%3D%20%27plating%27%29%29%20dmg%20*%3D%200.6%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28player.mutations.some%28m%20%3D%3E%20m.id%20%3D%3D%3D%20%27obsidian%27%29%29%20dmg%20*%3D%200.3%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20player.hp%20-%3D%20dmg%3B%20shake%20%3D%2015%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28player.mutations.some%28m%20%3D%3E%20m.id%20%3D%3D%3D%20%27thorns%27%29%29%20%7B%20this.takeDamage%2860%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28player.mutations.some%28m%20%3D%3E%20m.id%20%3D%3D%3D%20%27spikes%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20i%3D0%3B%20i%3C4%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20projectiles.push%28new%20Projectile%28player.x%2C%20player.y%2C%20%28i*Math.PI/2%29%2C%20%27%23fff%27%2C%2050%2C%206%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28player.hp%20%3C%3D%200%20%26%26%20gameState%20%3D%3D%3D%20%27arena%27%29%20endGame%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20draw%28%29%20%7B%0A%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20this.flash%20%3E%200%20%3F%20%27%23fff%27%20%3A%20this.color%3B%0A%20%20%20%20%20%20%20%20ctx.beginPath%28%29%3B%20ctx.arc%28this.x%2C%20this.y%2C%20this.r%2C%200%2C%20Math.PI*2%29%3B%20ctx.fill%28%29%3B%0A%20%20%20%20%20%20%20%20ctx.strokeStyle%20%3D%20%22rgba%280%2C0%2C0%2C0.5%29%22%3B%20ctx.lineWidth%20%3D%203%3B%20ctx.stroke%28%29%3B%0A%20%20%20%20%7D%0A%7D%0A%0Aclass%20Projectile%20%7B%0A%20%20%20%20constructor%28x%2C%20y%2C%20ang%2C%20col%2C%20dmg%2C%20sz%29%20%7B%0A%20%20%20%20%20%20%20%20this.x%20%3D%20x%3B%20this.y%20%3D%20y%3B%20this.vx%20%3D%20Math.cos%28ang%29*16%3B%20this.vy%20%3D%20Math.sin%28ang%29*16%3B%0A%20%20%20%20%20%20%20%20this.col%20%3D%20col%3B%20this.dmg%20%3D%20dmg%3B%20this.sz%20%3D%20sz%3B%20this.life%20%3D%20120%3B%0A%20%20%20%20%7D%0A%20%20%20%20update%28%29%20%7B%20%0A%20%20%20%20%20%20%20%20this.x%20+%3D%20this.vx%3B%20this.y%20+%3D%20this.vy%3B%20this.life--%3B%20%0A%20%20%20%20%20%20%20%20if%20%28frameCount%20%25%202%20%3D%3D%3D%200%29%20vfx.push%28new%20Particle%28this.x%2C%20this.y%2C%20this.col%29%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20draw%28%29%20%7B%0A%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20this.col%3B%0A%20%20%20%20%20%20%20%20ctx.shadowBlur%20%3D%208%3B%20ctx.shadowColor%20%3D%20this.col%3B%0A%20%20%20%20%20%20%20%20ctx.beginPath%28%29%3B%20ctx.arc%28this.x%2C%20this.y%2C%20this.sz%2C%200%2C%20Math.PI*2%29%3B%20ctx.fill%28%29%3B%0A%20%20%20%20%20%20%20%20ctx.shadowBlur%20%3D%200%3B%0A%20%20%20%20%7D%0A%7D%0A%0Aclass%20XP%20%7B%0A%20%20%20%20constructor%28x%2C%20y%2C%20val%29%20%7B%20this.x%20%3D%20x%3B%20this.y%20%3D%20y%3B%20this.val%20%3D%20val%3B%20%7D%0A%20%20%20%20update%28%29%20%7B%0A%20%20%20%20%20%20%20%20const%20d%20%3D%20Math.hypot%28player.x-this.x%2C%20player.y-this.y%29%3B%0A%20%20%20%20%20%20%20%20if%20%28d%20%3C%20350%29%20%7B%20this.x%20+%3D%20%28player.x-this.x%29/d%20*%2014%3B%20this.y%20+%3D%20%28player.y-this.y%29/d%20*%2014%3B%20%7D%0A%20%20%20%20%20%20%20%20if%20%28d%20%3C%2025%29%20%7B%20addXP%28this.val%29%3B%20return%20true%3B%20%7D%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%20%20%20%20draw%28%29%20%7B%0A%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20%27%2300e5ff%27%3B%0A%20%20%20%20%20%20%20%20const%20s%20%3D%204%20+%20Math.sin%28frameCount%20*%200.1%29%20*%202%3B%0A%20%20%20%20%20%20%20%20ctx.beginPath%28%29%3B%20ctx.arc%28this.x%2C%20this.y%2C%20s%2C%200%2C%20Math.PI*2%29%3B%20ctx.fill%28%29%3B%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20addXP%28v%29%20%7B%0A%20%20%20%20xp%20+%3D%20v%3B%0A%20%20%20%20if%20%28xp%20%3E%3D%20xpNext%29%20%7B%0A%20%20%20%20%20%20%20%20level++%3B%20xp%20%3D%200%3B%20xpNext%20%3D%20Math.floor%28xpNext%20*%201.4%29%3B%0A%20%20%20%20%20%20%20%20gameState%20%3D%20%27leveling%27%3B%20%0A%20%20%20%20%20%20%20%20showMutationChoices%28%29%3B%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20showMutationChoices%28%29%20%7B%0A%20%20%20%20ui.mutationModal.style.display%20%3D%20%27flex%27%3B%0A%20%20%20%20ui.slotContainer.innerHTML%20%3D%20%27%27%3B%0A%20%20%20%20ui.rollBtn.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20ui.rollBtn.disabled%20%3D%20false%3B%0A%0A%20%20%20%20for%28let%20i%3D0%3B%20i%3C3%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20const%20div%20%3D%20document.createElement%28%27div%27%29%3B%0A%20%20%20%20%20%20%20%20div.className%20%3D%20%27glass-panel%20p-6%20flex%20flex-col%20items-center%20justify-center%20text-center%20border-2%20border-dashed%20border-cyan-500/20%20opacity-50%27%3B%0A%20%20%20%20%20%20%20%20div.innerHTML%20%3D%20%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22text-4xl%20opacity-10%22%3E%uD83E%uDDEC%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22mt-4%20text-%5B0.6rem%5D%20text-cyan-400%20tracking-widest%22%3ELOCKED%3C/div%3E%0A%20%20%20%20%20%20%20%20%60%3B%0A%20%20%20%20%20%20%20%20ui.slotContainer.appendChild%28div%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20ui.rollBtn.onclick%20%3D%20async%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20ui.rollBtn.disabled%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20ui.rollBtn.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20const%20available%20%3D%20%5B...MUTATIONS%5D.filter%28m%20%3D%3E%20%21player.mutations.some%28pm%20%3D%3E%20pm.id%20%3D%3D%3D%20m.id%29%29%3B%0A%20%20%20%20%20%20%20%20const%20choices%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20for%28let%20i%3D0%3B%20i%3C3%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28available.length%20%3D%3D%3D%200%29%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20idx%20%3D%20Math.floor%28Math.random%28%29%20*%20available.length%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20choices.push%28available.splice%28idx%2C%201%29%5B0%5D%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20for%20%28let%20i%20%3D%200%3B%20i%20%3C%203%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20slot%20%3D%20ui.slotContainer.children%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20slot.classList.remove%28%27opacity-50%27%2C%20%27border-dashed%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20slot.classList.add%28%27slot-rolling%27%2C%20%27border-cyan-500/50%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20playSound%28200%20+%20i*100%2C%20%27square%27%2C%200.1%2C%200.02%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20await%20new%20Promise%28r%20%3D%3E%20setTimeout%28r%2C%20600%29%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20slot.classList.remove%28%27slot-rolling%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20slot.classList.add%28%27slot-reveal%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20m%20%3D%20choices%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20slot.innerHTML%20%3D%20%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22text-4xl%20mb-4%20p-4%20rounded-full%20bg-cyan-500/5%22%3E%24%7Bm.icon%7D%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22text-%5B0.5rem%5D%20tracking-%5B0.4em%5D%20font-bold%20rarity-%24%7Bm.rarity%7D%20mb-2%20uppercase%22%3E%24%7Bm.rarity%7D%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22text-lg%20font-bold%20mb-3%20text-white%22%3E%24%7Bm.name%7D%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22text-%5B0.7rem%5D%20text-gray-400%20mb-6%20leading-relaxed%20flex-grow%20italic%22%3E%22%24%7Bm.desc%7D%22%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22btn%20w-full%20py-3%20bg-cyan-500/10%20hover%3Abg-cyan-400/30%22%3EMutate%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20playSound%28600%20+%20i*100%2C%20%27sawtooth%27%2C%200.15%2C%200.05%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20slot.querySelector%28%27button%27%29.onclick%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20player.mutations.push%28m%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateMutationList%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ui.mutationModal.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gameState%20%3D%20roundPhase%20%3D%3D%3D%20%27lobby%27%20%3F%20%27lobby%27%20%3A%20%27arena%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playSound%28900%2C%20%27square%27%2C%200.2%2C%200.05%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%7D%0A%0Afunction%20updateMutationList%28%29%20%7B%0A%20%20%20%20ui.list.innerHTML%20%3D%20%27%27%3B%0A%20%20%20%20player.mutations.forEach%28m%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20const%20div%20%3D%20document.createElement%28%27div%27%29%3B%0A%20%20%20%20%20%20%20%20div.className%20%3D%20%27mutation-icon%27%3B%0A%20%20%20%20%20%20%20%20div.innerHTML%20%3D%20m.icon%3B%0A%20%20%20%20%20%20%20%20div.onmouseenter%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20ui.ttTitle.innerText%20%3D%20m.name%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20ui.ttDesc.innerText%20%3D%20m.desc%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20ui.ttTitle.className%20%3D%20%60text-%5B0.6rem%5D%20font-bold%20uppercase%20mb-1%20rarity-%24%7Bm.rarity%7D%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20ui.tooltip.style.visibility%20%3D%20%27visible%27%3B%20ui.tooltip.style.opacity%20%3D%20%271%27%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20div.onmouseleave%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20ui.tooltip.style.visibility%20%3D%20%27hidden%27%3B%20ui.tooltip.style.opacity%20%3D%20%270%27%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20ui.list.appendChild%28div%29%3B%0A%20%20%20%20%7D%29%3B%0A%7D%0A%0Afunction%20switchPhase%28%29%20%7B%0A%20%20%20%20if%20%28roundPhase%20%3D%3D%3D%20%27lobby%27%29%20%7B%0A%20%20%20%20%20%20%20%20roundPhase%20%3D%20%27combat%27%3B%20phaseTimer%20%3D%2045%3B%20gameState%20%3D%20%27arena%27%3B%0A%20%20%20%20%20%20%20%20document.getElementById%28%27phase-tag%27%29.innerText%20%3D%20%22COMBAT_ACTIVE%22%3B%0A%20%20%20%20%20%20%20%20document.getElementById%28%27phase-tag%27%29.style.color%20%3D%20%22%23ff5252%22%3B%0A%20%20%20%20%20%20%20%20document.getElementById%28%27phase-tag%27%29.style.borderColor%20%3D%20%22%23ff525250%22%3B%0A%20%20%20%20%20%20%20%20ui.lobby.style.opacity%20%3D%200%3B%0A%20%20%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20ui.lobby.style.display%20%3D%20%27none%27%2C%20500%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20waves++%3B%0A%20%20%20%20%20%20%20%20roundPhase%20%3D%20%27lobby%27%3B%20phaseTimer%20%3D%2015%3B%20gameState%20%3D%20%27lobby%27%3B%0A%20%20%20%20%20%20%20%20document.getElementById%28%27phase-tag%27%29.innerText%20%3D%20%22LOBBY_STABLE%22%3B%0A%20%20%20%20%20%20%20%20document.getElementById%28%27phase-tag%27%29.style.color%20%3D%20%22%2300e5ff%22%3B%0A%20%20%20%20%20%20%20%20document.getElementById%28%27phase-tag%27%29.style.borderColor%20%3D%20%22%2300e5ff50%22%3B%0A%20%20%20%20%20%20%20%20ui.lobby.style.display%20%3D%20%27flex%27%3B%0A%20%20%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20ui.lobby.style.opacity%20%3D%201%2C%2010%29%3B%0A%20%20%20%20%20%20%20%20enemies%20%3D%20%5B%5D%3B%20projectiles%20%3D%20%5B%5D%3B%20envEffects%20%3D%20%5B%5D%3B%0A%20%20%20%20%7D%0A%20%20%20%20playSound%28400%2C%20%27square%27%2C%200.4%2C%200.04%29%3B%0A%7D%0A%0Adocument.getElementById%28%27diff-easy%27%29.onclick%20%3D%20%28e%29%20%3D%3E%20setDifficulty%280.6%2C%20e.target%29%3B%0Adocument.getElementById%28%27diff-med%27%29.onclick%20%3D%20%28e%29%20%3D%3E%20setDifficulty%281.2%2C%20e.target%29%3B%0Adocument.getElementById%28%27diff-hard%27%29.onclick%20%3D%20%28e%29%20%3D%3E%20setDifficulty%282.2%2C%20e.target%29%3B%0A%0Afunction%20setDifficulty%28val%2C%20btn%29%20%7B%0A%20%20%20%20difficulty%20%3D%20val%3B%0A%20%20%20%20document.querySelectorAll%28%27%23lobby-controls%20.btn%27%29.forEach%28b%20%3D%3E%20b.classList.remove%28%27active%27%29%29%3B%0A%20%20%20%20btn.classList.add%28%27active%27%29%3B%0A%20%20%20%20playSound%28600%2C%20%27sine%27%2C%200.05%29%3B%0A%7D%0A%0Adocument.getElementById%28%27healBtn%27%29.onclick%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20if%20%28kills%20%3E%3D%2020%20%26%26%20player.hp%20%3C%20player.maxHp%29%20%7B%20%0A%20%20%20%20%20%20%20%20kills%20-%3D%2020%3B%20player.hp%20%3D%20Math.min%28player.maxHp%2C%20player.hp%20+%20%28player.maxHp%20*%200.4%29%29%3B%20%0A%20%20%20%20%20%20%20%20playSound%28500%2C%20%27sine%27%2C%200.2%29%3B%0A%20%20%20%20%7D%0A%7D%3B%0Adocument.getElementById%28%27upgradeHpBtn%27%29.onclick%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20if%20%28kills%20%3E%3D%2040%29%20%7B%20%0A%20%20%20%20%20%20%20%20kills%20-%3D%2040%3B%20player.maxHp%20+%3D%2025%3B%20player.hp%20+%3D%2025%3B%20%0A%20%20%20%20%20%20%20%20playSound%28600%2C%20%27square%27%2C%200.2%29%3B%0A%20%20%20%20%7D%0A%7D%3B%0Adocument.getElementById%28%27boostBtn%27%29.onclick%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20if%20%28kills%20%3E%3D%2050%29%20%7B%20kills%20-%3D%2050%3B%20addXP%28150%29%3B%20playSound%28700%2C%20%27square%27%2C%200.2%29%3B%20%7D%0A%7D%3B%0A%0Afunction%20endGame%28%29%20%7B%0A%20%20%20%20gameState%20%3D%20%27over%27%3B%0A%20%20%20%20ui.gameOver.style.display%20%3D%20%27flex%27%3B%0A%20%20%20%20%0A%20%20%20%20//%20Format%20records%0A%20%20%20%20const%20m%20%3D%20Math.floor%28totalSeconds%20/%2060%29%3B%0A%20%20%20%20const%20s%20%3D%20totalSeconds%20%25%2060%3B%0A%20%20%20%20document.getElementById%28%27stat-time%27%29.innerText%20%3D%20%60%24%7Bm.toString%28%29.padStart%282%2C%20%270%27%29%7D%3A%24%7Bs.toString%28%29.padStart%282%2C%20%270%27%29%7D%60%3B%0A%20%20%20%20document.getElementById%28%27stat-gen%27%29.innerText%20%3D%20%60LVL%20%24%7Blevel.toString%28%29.padStart%282%2C%20%270%27%29%7D%60%3B%0A%20%20%20%20document.getElementById%28%27stat-kills%27%29.innerText%20%3D%20kills%3B%0A%20%20%20%20document.getElementById%28%27stat-waves%27%29.innerText%20%3D%20waves%3B%0A%20%20%20%20%0A%20%20%20%20playSound%28100%2C%20%27sawtooth%27%2C%200.6%2C%200.1%29%3B%0A%7D%0A%0Adocument.getElementById%28%27restartBtn%27%29.onclick%20%3D%20%28%29%20%3D%3E%20location.reload%28%29%3B%0A%0Afunction%20loop%28timestamp%29%20%7B%0A%20%20%20%20const%20dt%20%3D%20timestamp%20-%20lastTimestamp%3B%0A%20%20%20%20lastTimestamp%20%3D%20timestamp%3B%0A%20%20%20%20ctx.clearRect%280%2C0%2C%20canvas.width%2C%20canvas.height%29%3B%0A%0A%20%20%20%20if%20%28gameState%20%21%3D%3D%20%27menu%27%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28gameState%20%21%3D%3D%20%27leveling%27%20%26%26%20gameState%20%21%3D%3D%20%27over%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20phaseTimer%20-%3D%20dt/1000%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28roundPhase%20%3D%3D%3D%20%27combat%27%29%20totalSeconds%20%3D%20Math.floor%28frameCount%20/%2060%29%3B%20//%20Roughly%20track%20active%20time%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28phaseTimer%20%3C%3D%200%29%20switchPhase%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20ctx.save%28%29%3B%0A%20%20%20%20%20%20%20%20if%20%28shake%20%3E%200%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20ctx.translate%28Math.random%28%29*shake-shake/2%2C%20Math.random%28%29*shake-shake/2%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20shake%20*%3D%200.9%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28shake%20%3C%200.1%29%20shake%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20roundPhase%20%3D%3D%3D%20%27lobby%27%20%3F%20%27%23080810%27%20%3A%20%27%230d0808%27%3B%0A%20%20%20%20%20%20%20%20ctx.fillRect%280%2C0%2C%20canvas.width%2C%20canvas.height%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20ctx.strokeStyle%20%3D%20roundPhase%20%3D%3D%3D%20%27lobby%27%20%3F%20%27rgba%280%2C%20229%2C%20255%2C%200.05%29%27%20%3A%20%27rgba%28255%2C%2082%2C%2082%2C%200.08%29%27%3B%0A%20%20%20%20%20%20%20%20ctx.lineWidth%20%3D%201%3B%0A%20%20%20%20%20%20%20%20const%20gridOffset%20%3D%20%28frameCount%20*%200.5%29%20%25%20100%3B%0A%20%20%20%20%20%20%20%20for%28let%20i%3DgridOffset%3B%20i%3Ccanvas.width%3B%20i+%3D100%29%20%7B%20ctx.beginPath%28%29%3B%20ctx.moveTo%28i%2C0%29%3B%20ctx.lineTo%28i%2Ccanvas.height%29%3B%20ctx.stroke%28%29%3B%20%7D%0A%20%20%20%20%20%20%20%20for%28let%20j%3DgridOffset%3B%20j%3Ccanvas.height%3B%20j+%3D100%29%20%7B%20ctx.beginPath%28%29%3B%20ctx.moveTo%280%2Cj%29%3B%20ctx.lineTo%28canvas.width%2Cj%29%3B%20ctx.stroke%28%29%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20frameCount++%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20envEffects%20%3D%20envEffects.filter%28e%20%3D%3E%20%7B%20e.update%28%29%3B%20e.draw%28%29%3B%20return%20e.life%20%3E%200%3B%20%7D%29%3B%0A%20%20%20%20%20%20%20%20player.update%28%29%3B%0A%20%20%20%20%20%20%20%20player.draw%28%29%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28gameState%20%3D%3D%3D%20%27arena%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20spawnRate%20%3D%20Math.max%288%2C%20%2850%20-%20level*2%29%20/%20difficulty%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28frameCount%20%25%20Math.floor%28spawnRate%29%20%3D%3D%3D%200%29%20enemies.push%28new%20Enemy%28Math.random%28%29%20%3C%200.15%20%3F%20%27elite%27%20%3A%20%27grunt%27%29%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20projectiles%20%3D%20projectiles.filter%28p%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20p.update%28%29%3B%20p.draw%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20hit%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20enemies.forEach%28e%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28Math.hypot%28p.x-e.x%2C%20p.y-e.y%29%20%3C%20e.r%20+%20p.sz%29%20%7B%20e.takeDamage%28p.dmg%29%3B%20hit%20%3D%20true%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20p.life%20%3E%200%20%26%26%20%21hit%3B%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20enemies%20%3D%20enemies.filter%28e%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20e.update%28%29%3B%20e.draw%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.hp%20%3C%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28gameState%20%3D%3D%3D%20%27arena%27%20%7C%7C%20gameState%20%3D%3D%3D%20%27leveling%27%29%20kills++%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20drops.push%28new%20XP%28e.x%2C%20e.y%2C%20e.type%20%3D%3D%3D%20%27elite%27%20%3F%20140%20%3A%2040%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Gore%20VFX%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20i%3D0%3B%20i%3C8%3B%20i++%29%20vfx.push%28new%20Particle%28e.x%2C%20e.y%2C%20e.color%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playSound%28200%2C%20%27sine%27%2C%200.1%2C%200.02%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20drops%20%3D%20drops.filter%28d%20%3D%3E%20%7B%20d.draw%28%29%3B%20return%20%21d.update%28%29%3B%20%7D%29%3B%0A%20%20%20%20%20%20%20%20vfx%20%3D%20vfx.filter%28v%20%3D%3E%20%7B%20v.update%28%29%3B%20v.draw%28%29%3B%20return%20v.life%20%3E%200%3B%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20document.getElementById%28%27killCount%27%29.innerText%20%3D%20kills%3B%0A%20%20%20%20%20%20%20%20document.getElementById%28%27timer%27%29.innerText%20%3D%20Math.ceil%28Math.max%280%2C%20phaseTimer%29%29.toString%28%29.padStart%282%2C%20%270%27%29%3B%0A%20%20%20%20%20%20%20%20document.getElementById%28%27xpBar%27%29.style.width%20%3D%20%60%24%7B%28xp/xpNext%29*100%7D%25%60%3B%0A%20%20%20%20%20%20%20%20document.getElementById%28%27lvlLabel%27%29.innerText%20%3D%20level.toString%28%29.padStart%282%2C%20%270%27%29%3B%0A%20%20%20%20%20%20%20%20document.getElementById%28%27hp-bar%27%29.style.width%20%3D%20%60%24%7B%28player.hp/player.maxHp%29*100%7D%25%60%3B%0A%20%20%20%20%20%20%20%20document.getElementById%28%27hp-text%27%29.innerText%20%3D%20%60%24%7BMath.max%280%2C%20Math.ceil%28player.hp%29%29%7D/%24%7Bplayer.maxHp%7D%60%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%20%28player.hp%20%3C%20player.maxHp%20*%200.35%29%20vfxOverlay.classList.add%28%27pulse-red%27%29%3B%0A%20%20%20%20%20%20%20%20else%20vfxOverlay.classList.remove%28%27pulse-red%27%29%3B%0A%0A%20%20%20%20%20%20%20%20ctx.restore%28%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20requestAnimationFrame%28loop%29%3B%0A%7D%0A%0Awindow.addEventListener%28%27resize%27%2C%20%28%29%20%3D%3E%20%7B%20canvas.width%20%3D%20window.innerWidth%3B%20canvas.height%20%3D%20window.innerHeight%3B%20%7D%29%3B%0Awindow.addEventListener%28%27keydown%27%2C%20e%20%3D%3E%20keys%5Be.key.toLowerCase%28%29%5D%20%3D%20true%29%3B%0Awindow.addEventListener%28%27keyup%27%2C%20e%20%3D%3E%20keys%5Be.key.toLowerCase%28%29%5D%20%3D%20false%29%3B%0A%0Adocument.getElementById%28%27startBtn%27%29.onclick%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20ui.mainMenu.classList.add%28%27opacity-0%27%29%3B%0A%20%20%20%20setTimeout%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20ui.mainMenu.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20ui.hud.style.opacity%20%3D%201%3B%0A%20%20%20%20%20%20%20%20player.reset%28%29%3B%0A%20%20%20%20%20%20%20%20gameState%20%3D%20%27lobby%27%3B%20%0A%20%20%20%20%20%20%20%20roundPhase%20%3D%20%27lobby%27%3B%0A%20%20%20%20%20%20%20%20ui.lobby.style.display%20%3D%20%27flex%27%3B%0A%20%20%20%20%20%20%20%20ui.lobby.style.opacity%20%3D%201%3B%0A%20%20%20%20%20%20%20%20updateMutationList%28%29%3B%0A%20%20%20%20%7D%2C%20500%29%3B%0A%20%20%20%20playSound%28200%2C%20%27sawtooth%27%2C%200.8%2C%200.05%29%3B%0A%7D%3B%0A%0Acanvas.width%20%3D%20window.innerWidth%3B%20canvas.height%20%3D%20window.innerHeight%3B%0ArequestAnimationFrame%28loop%29%3B%0A%0Aclass%20Singularity%20%7B%0A%20%20%20%20constructor%28x%2C%20y%29%20%7B%20this.x%20%3D%20x%3B%20this.y%20%3D%20y%3B%20this.life%20%3D%20200%3B%20this.r%20%3D%200%3B%20%7D%0A%20%20%20%20update%28%29%20%7B%0A%20%20%20%20%20%20%20%20this.life--%3B%20this.r%20%3D%20Math.min%28120%2C%20this.r%20+%205%29%3B%0A%20%20%20%20%20%20%20%20enemies.forEach%28e%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20d%20%3D%20Math.hypot%28e.x-this.x%2C%20e.y-this.y%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28d%20%3C%20this.r%20+%2040%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.x%20+%3D%20%28this.x-e.x%29*0.15%3B%20e.y%20+%3D%20%28this.y-e.y%29*0.15%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.takeDamage%282.5%20*%20damageMult%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20draw%28%29%20%7B%0A%20%20%20%20%20%20%20%20ctx.save%28%29%3B%20%0A%20%20%20%20%20%20%20%20ctx.shadowBlur%20%3D%2020%3B%20ctx.shadowColor%20%3D%20%27%23ff00ff%27%3B%0A%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20%27%23000%27%3B%20ctx.beginPath%28%29%3B%20ctx.arc%28this.x%2C%20this.y%2C%20this.r%2C%200%2C%20Math.PI*2%29%3B%20ctx.fill%28%29%3B%0A%20%20%20%20%20%20%20%20ctx.strokeStyle%20%3D%20%27%23ff00ff%27%3B%20ctx.lineWidth%20%3D%203%3B%20ctx.stroke%28%29%3B%0A%20%20%20%20%20%20%20%20ctx.restore%28%29%3B%0A%20%20%20%20%7D%0A%7D%0A%0Aclass%20Nova%20%7B%0A%20%20%20%20constructor%28x%2C%20y%29%20%7B%20this.x%20%3D%20x%3B%20this.y%20%3D%20y%3B%20this.life%20%3D%2050%3B%20this.r%20%3D%200%3B%20shake%20%3D%2030%3B%20%7D%0A%20%20%20%20update%28%29%20%7B%0A%20%20%20%20%20%20%20%20this.life--%3B%20this.r%20+%3D%2024%3B%0A%20%20%20%20%20%20%20%20enemies.forEach%28e%20%3D%3E%20%7B%20if%20%28Math.hypot%28e.x-this.x%2C%20e.y-this.y%29%20%3C%20this.r%29%20%7B%20e.takeDamage%28600%20*%20damageMult%29%3B%20%7D%20%7D%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20draw%28%29%20%7B%20ctx.save%28%29%3B%20ctx.globalAlpha%20%3D%20this.life/50%3B%20ctx.fillStyle%20%3D%20%27%23fff%27%3B%20ctx.beginPath%28%29%3B%20ctx.arc%28this.x%2C%20this.y%2C%20this.r%2C%200%2C%20Math.PI*2%29%3B%20ctx.fill%28%29%3B%20ctx.restore%28%29%3B%20%7D%0A%7D%0A%0Aclass%20SolarBeam%20%7B%0A%20%20%20%20constructor%28px%29%20%7B%20this.x%20%3D%20px%3B%20this.life%20%3D%2060%3B%20this.w%20%3D%2045%3B%20%7D%0A%20%20%20%20update%28%29%20%7B%0A%20%20%20%20%20%20%20%20this.life--%3B%0A%20%20%20%20%20%20%20%20enemies.forEach%28e%20%3D%3E%20%7B%20if%20%28Math.abs%28e.x%20-%20this.x%29%20%3C%20this.w%29%20%7B%20e.takeDamage%2818%20*%20damageMult%29%3B%20%7D%20%7D%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20draw%28%29%20%7B%0A%20%20%20%20%20%20%20%20ctx.save%28%29%3B%20ctx.globalAlpha%20%3D%20this.life/60%3B%0A%20%20%20%20%20%20%20%20const%20g%20%3D%20ctx.createLinearGradient%28this.x%20-%20this.w/2%2C%200%2C%20this.x%20+%20this.w/2%2C%200%29%3B%0A%20%20%20%20%20%20%20%20g.addColorStop%280%2C%20%27rgba%28255%2C%20234%2C%200%2C%200%29%27%29%3B%20g.addColorStop%280.5%2C%20%27rgba%28255%2C%20234%2C%200%2C%200.8%29%27%29%3B%20g.addColorStop%281%2C%20%27rgba%28255%2C%20234%2C%200%2C%200%29%27%29%3B%0A%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20g%3B%20ctx.fillRect%28this.x%20-%20this.w/2%2C%200%2C%20this.w%2C%20canvas.height%29%3B%0A%20%20%20%20%20%20%20%20ctx.restore%28%29%3B%0A%20%20%20%20%7D%0A%7D%0A%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E'));
</script>
